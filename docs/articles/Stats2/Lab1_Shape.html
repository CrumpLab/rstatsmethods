<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Lab 1 Shaping Data • psyc7709Lab</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../../apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../../bootstrap-toc.css">
<script src="../../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../../pkgdown.css" rel="stylesheet">
<script src="../../pkgdown.js"></script><meta property="og:title" content="Lab 1 Shaping Data">
<meta property="og:description" content="psyc7709Lab">
<meta property="og:image" content="https://crumplab.github.io/psyc7709Lab/logo.png">
<meta name="twitter:card" content="summary">
<meta name="twitter:creator" content="@MattCrump_">
<meta name="twitter:site" content="@MattCrump_">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!-- Global site tag (gtag.js) - Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=UA-79429674-12"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-79429674-12');
</script>
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../../index.html">psyc7709Lab</a>
        <span class="version label label-danger" data-toggle="tooltip" data-placement="bottom" title="Unreleased version">0.0.0.9004</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Syllabus
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../../articles/course_docs/Spring_syllabus.html">Spring 2021</a>
    </li>
    <li>
      <a href="../../articles/course_docs/Syllabus.html">Fall 2020</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Labs
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li class="dropdown-header">STATS 2 Spring 2021</li>
    <li>
      <a href="../../articles/Stats2/Lab1_Shape.html">Lab 1 Shaping Data</a>
    </li>
    <li>
      <a href="../../articles/Stats2/Lab2_Multiple_regression_I.html">Lab 2 Multiple Regression</a>
    </li>
    <li>
      <a href="../../articles/Stats2/Lab3_Multiple_regression_II.html">Lab 3 Multiple Regression II</a>
    </li>
    <li>
      <a href="../../articles/Stats2/Lab4_ANOVA.html">Lab 4 ANOVA</a>
    </li>
    <li>
      <a href="../../articles/Stats2/Lab5_ANOVA_regression.html">Lab 5 ANOVA as Regression</a>
    </li>
    <li>
      <a href="../../articles/Stats2/Lab6_Comparisons.html">Lab 6 Comparisons</a>
    </li>
    <li>
      <a href="../../articles/Stats2/Lab7_Factorial_ANOVA.html">Lab 7 Factorial ANOVA</a>
    </li>
    <li>
      <a href="../../articles/Stats2/Lab8_Contrasts.html">Lab 8 Contrast Analyses</a>
    </li>
    <li>
      <a href="../../articles/Stats2/Lab9_RM_ANOVA.html">Lab 9 RM ANOVA</a>
    </li>
    <li>
      <a href="../../articles/Stats2/Lab10_Nested_Designs.html">Lab 10 Nested Designs</a>
    </li>
    <li>
      <a href="../../articles/Stats2/Lab11_WYOR.html">Lab 11 WYOR</a>
    </li>
    <li class="dropdown-header">STATS 1 FALL 2020</li>
    <li>
      <a href="../../articles/Stats1/Getting_Started.html">Getting Started</a>
    </li>
    <li>
      <a href="../../articles/Stats1/Lab1_Basics.html">Lab 1 Basics</a>
    </li>
    <li>
      <a href="../../articles/Stats1/Lab2_Descriptives.html">Lab 2 Descriptives</a>
    </li>
    <li>
      <a href="../../articles/Stats1/Lab3_Distributions_I.html">Lab 3 Distributions I</a>
    </li>
    <li>
      <a href="../../articles/Stats1/Lab4_Distributions_II.html">Lab 4 Distributions II</a>
    </li>
    <li>
      <a href="../../articles/Stats1/Lab5_Sampling_Distributions.html">Lab 5 Sampling Distributions</a>
    </li>
    <li>
      <a href="../../articles/Stats1/Lab6_Statistical_Inference.html">Lab 6 Statistical Inference</a>
    </li>
    <li>
      <a href="../../articles/Stats1/Lab7_Binomial.html">Lab 7 Binomial tests</a>
    </li>
    <li>
      <a href="../../articles/Stats1/Lab8_Normal.html">Lab 8 Z tests</a>
    </li>
    <li>
      <a href="../../articles/Stats1/Lab9_Chisquare.html">Lab 9 Chi Square</a>
    </li>
    <li>
      <a href="../../articles/Stats1/Lab10_ttest.html">Lab 10 t tests</a>
    </li>
    <li>
      <a href="../../articles/Stats1/SP_Power.html">Simulation and Power analysis I</a>
    </li>
    <li>
      <a href="../../articles/Stats1/Lab11_Correlation.html">Lab 11 Correlation</a>
    </li>
    <li>
      <a href="../../articles/Stats1/Lab12_Regression.html">Lab 12 Regression</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    R Reference
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../../articles/course_docs/reference_code.html">Coding Reference</a>
    </li>
    <li>
      <a href="../../articles/course_docs/resources.html">More resources</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Semester Project
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../../articles/Stats2/semester_project.html">Spring 2021</a>
    </li>
    <li>
      <a href="../../articles/Stats1/semester_project.html">Fall 2020</a>
    </li>
  </ul>
</li>
<li>
  <a href="../../articles/course_docs/contribute.html">Extra Credit</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/CrumpLab/psyc7709Lab">
    <span class="fas fa-lg fa-github"></span>
     
  </a>
</li>
<li>
  <a href="../../news/index.html">news</a>
</li>
<li>
  <a href="../../reference/index.html"></a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="Lab1_Shape_files/header-attrs-2.6/header-attrs.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Lab 1 Shaping Data</h1>
                        <h4 class="author">Matthew J. C. Crump</h4>
            
            <h4 class="date">2/1/2021</h4>
      
      
      <div class="hidden name"><code>Lab1_Shape.Rmd</code></div>

    </div>

    
    
<div id="overview" class="section level2">
<h2 class="hasAnchor">
<a href="#overview" class="anchor"></a>Overview</h2>
<p>Welcome back. This lab overviews practical aspects about the form or shape that data can take. We will use coding concepts in R that should be mostly familiar from last semester, and use this lab as an opportunity for a little bit of review. There are no readings from the textbook for this lab, but you may find the following links generally helpful:</p>
<ol style="list-style-type: decimal">
<li><a href="https://dplyr.tidyverse.org">dplyr</a></li>
<li><a href="https://r4ds.had.co.nz/transform.html">Data-transformation Chapter</a></li>
</ol>
</div>
<div id="background" class="section level2">
<h2 class="hasAnchor">
<a href="#background" class="anchor"></a>Background</h2>
<p>The structure of research designs imply that produced data will particular properties, the data can be saved in different formats, data can arrive in different shapes and sizes, and it must be transformed into specific shapes in order to conduct specific analyses. Thus, the shape of data, and the shaping of data, are part and parcel of research, from the beginning to the end. We could spend a good deal of time discussing data organization and manipulation. Most of this conversation will unfold over the semester. In the remaining part of this background section I’m going to identify a few places where data organization is important. Each of these topics could easily be expanded to a whole chapter. For now, my goal is to alert you to them. We will cover some of these topics in more detail in this lab.</p>
<div id="data-creation" class="section level3">
<h3 class="hasAnchor">
<a href="#data-creation" class="anchor"></a>Data-Creation</h3>
<ol style="list-style-type: decimal">
<li>How should you save your data?</li>
<li>What kind of file formats are there for saving data?</li>
</ol>
<p>Perhaps because the discipline of Psychology is so large and varied it has been slow to adopt any widespread standards for formatting data. Certainly, there are so many kinds of data that standards for one research project might not apply to another. Here are some considerations to keep in mind:</p>
<ol style="list-style-type: decimal">
<li>The decisions you make about how to save your data will have consequences later for analysis. If you save in a format that is analysis-ready, then you won’t have to transform the data later</li>
<li>Save the data in a machine-readable and transformable format. Machine-readable means that you can input the data to a program language like R, and transformable means that you can reshape the data while preserving its inherent factor structure (more on this in this lab).</li>
<li>There are numerous file formats. We will typically be reading in .txt (text files), .csv (comma separated value) files, and sometimes .xlsx (excel) or proprietary files.</li>
</ol>
</div>
<div id="reproducible-analysis-pipeline" class="section level3">
<h3 class="hasAnchor">
<a href="#reproducible-analysis-pipeline" class="anchor"></a>Reproducible analysis pipeline</h3>
<ol style="list-style-type: decimal">
<li>Inputting data to R</li>
<li>Re-shaping it for analysis</li>
</ol>
<p>Data-shaping is a practical part of all data-analysis in R. Using scripts to handle the data from the input to analysis allows a reproducible pipeline. A reproducible is helpful for you and others. When your analysis pipeline is not reproducible, you may not be able to fix mistakes that you make. For example, if you accidentally delete something, or move something around by hand, you may not have a record of having performed that operation, and if you forget about it, you may never be able to go back and fix errors. When you use a script for analysis you never “touch” the data by hand. Instead, all actions are taken by script. Even if your script makes a mistake, the mistake is at least identifiable and fixable. If someone else has the raw data, and your analysis script, then if they input the data to your script, they should output the same analysis that you reported. The nuts and bolts of the analysis script often include many transformations of the data: The raw data is inputted to R, it might be saved in different variables, pre-processed in various ways, and reformatted and sliced and diced to meet input requirements for R statistical analysis functions.</p>
</div>
<div id="knowing-your-design-and-analysis" class="section level3">
<h3 class="hasAnchor">
<a href="#knowing-your-design-and-analysis" class="anchor"></a>Knowing your design and analysis</h3>
<ol style="list-style-type: decimal">
<li>Design and implied shape</li>
<li>Simulated data and analysis</li>
</ol>
<p>A major overarching goal for the end of our course is for you to understand how you could create your own statistical analyses customized exactly to nuances of your research designs. In other words, how to WYOR (Write Your Own Recipes) for statistics. In order to get there, it is important to recognize fundamental connections between your research design and the shape of data that will be collected in the design. In this lab, we will use R as a conceptual and practical tool to illustrate how simulated data can be created for particular designs. Once you have simulated data, you can test out your own planned analysis in advance of obtaining real data.</p>
</div>
</div>
<div id="concept-i-transformability" class="section level2">
<h2 class="hasAnchor">
<a href="#concept-i-transformability" class="anchor"></a>Concept I: Transformability</h2>
<p>This is a short concept section to illustrate the concept of transformability. The basic idea is that transformable data can be arranged into different shapes and back again without losing any information. As a practical matter, many functions depend on their inputs being formatted in a particular way. Thus, data transformation is often required to get the data into shape so that it can be inputted into some function.</p>
<div id="long-vs--wide-data" class="section level3">
<h3 class="hasAnchor">
<a href="#long-vs--wide-data" class="anchor"></a>Long vs. wide data</h3>
<p>As a general rule, most functions for statistical tests in R require that data are organized in long-format. I personally find this convenient because it means that:</p>
<ol style="list-style-type: decimal">
<li>If can get my data into long format, then</li>
<li>I can do just about anything I want to it using R functions for analysis and visualization</li>
</ol>
<p>Let’s look at an example of wide data. Imagine we have five people, and we have measured how many times they check their phone, in the morning, afternoon, and evening.</p>
<div class="sourceCode" id="cb1"><html><body><pre class="r"><span class="no">wide_data</span> <span class="kw">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html">data.frame</a></span>(<span class="kw">person</span> <span class="kw">=</span> <span class="fl">1</span>:<span class="fl">5</span>,
                        <span class="kw">Morning</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="fl">1</span>,<span class="fl">3</span>,<span class="fl">2</span>,<span class="fl">4</span>,<span class="fl">3</span>),
                        <span class="kw">Afternoon</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="fl">3</span>,<span class="fl">4</span>,<span class="fl">5</span>,<span class="fl">4</span>,<span class="fl">7</span>),
                        <span class="kw">Evening</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="fl">7</span>,<span class="fl">8</span>,<span class="fl">7</span>,<span class="fl">6</span>,<span class="fl">9</span>))
<span class="kw pkg">knitr</span><span class="kw ns">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html">kable</a></span>(<span class="no">wide_data</span>)</pre></body></html></div>
<table class="table">
<thead><tr class="header">
<th align="right">person</th>
<th align="right">Morning</th>
<th align="right">Afternoon</th>
<th align="right">Evening</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="right">1</td>
<td align="right">1</td>
<td align="right">3</td>
<td align="right">7</td>
</tr>
<tr class="even">
<td align="right">2</td>
<td align="right">3</td>
<td align="right">4</td>
<td align="right">8</td>
</tr>
<tr class="odd">
<td align="right">3</td>
<td align="right">2</td>
<td align="right">5</td>
<td align="right">7</td>
</tr>
<tr class="even">
<td align="right">4</td>
<td align="right">4</td>
<td align="right">4</td>
<td align="right">6</td>
</tr>
<tr class="odd">
<td align="right">5</td>
<td align="right">3</td>
<td align="right">7</td>
<td align="right">9</td>
</tr>
</tbody>
</table>
<p>If we have 5 people, and collect measures three times each, then we must have 5 x 3 total cells. The wide version of this data is a 5x3 matrix with 5 rows (different people), and 3 columns (morning, afternoon, evening). This matrix has 15 cells in it, so it is capable of representing all complete cases of the data. Wide-data is a perfectly fine way to represent data, and there is nothing inherently wrong with wide-data. However, as I mentioned before, many functions in R are written with the assumption that data is shaped as long-data.</p>
<p>Here is an example of the same thing in long-format:</p>
<div class="sourceCode" id="cb2"><html><body><pre class="r"><span class="no">long_data</span> <span class="kw">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html">data.frame</a></span>(<span class="kw">person</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html">rep</a></span>(<span class="fl">1</span>:<span class="fl">5</span>, <span class="kw">each</span><span class="kw">=</span><span class="fl">3</span>),
                        <span class="kw">time_of_day</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html">rep</a></span>(<span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"Morning"</span>, <span class="st">"Afternoon"</span>, <span class="st">"Evening"</span>),<span class="fl">5</span>),
                        <span class="kw">counts</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="fl">1</span>,<span class="fl">3</span>,<span class="fl">7</span>,<span class="fl">3</span>,<span class="fl">4</span>,<span class="fl">8</span>,<span class="fl">2</span>,<span class="fl">5</span>,<span class="fl">7</span>,<span class="fl">4</span>,<span class="fl">4</span>,<span class="fl">6</span>,<span class="fl">3</span>,<span class="fl">7</span>,<span class="fl">9</span>))
<span class="kw pkg">knitr</span><span class="kw ns">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html">kable</a></span>(<span class="no">long_data</span>)</pre></body></html></div>
<table class="table">
<thead><tr class="header">
<th align="right">person</th>
<th align="left">time_of_day</th>
<th align="right">counts</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="right">1</td>
<td align="left">Morning</td>
<td align="right">1</td>
</tr>
<tr class="even">
<td align="right">1</td>
<td align="left">Afternoon</td>
<td align="right">3</td>
</tr>
<tr class="odd">
<td align="right">1</td>
<td align="left">Evening</td>
<td align="right">7</td>
</tr>
<tr class="even">
<td align="right">2</td>
<td align="left">Morning</td>
<td align="right">3</td>
</tr>
<tr class="odd">
<td align="right">2</td>
<td align="left">Afternoon</td>
<td align="right">4</td>
</tr>
<tr class="even">
<td align="right">2</td>
<td align="left">Evening</td>
<td align="right">8</td>
</tr>
<tr class="odd">
<td align="right">3</td>
<td align="left">Morning</td>
<td align="right">2</td>
</tr>
<tr class="even">
<td align="right">3</td>
<td align="left">Afternoon</td>
<td align="right">5</td>
</tr>
<tr class="odd">
<td align="right">3</td>
<td align="left">Evening</td>
<td align="right">7</td>
</tr>
<tr class="even">
<td align="right">4</td>
<td align="left">Morning</td>
<td align="right">4</td>
</tr>
<tr class="odd">
<td align="right">4</td>
<td align="left">Afternoon</td>
<td align="right">4</td>
</tr>
<tr class="even">
<td align="right">4</td>
<td align="left">Evening</td>
<td align="right">6</td>
</tr>
<tr class="odd">
<td align="right">5</td>
<td align="left">Morning</td>
<td align="right">3</td>
</tr>
<tr class="even">
<td align="right">5</td>
<td align="left">Afternoon</td>
<td align="right">7</td>
</tr>
<tr class="odd">
<td align="right">5</td>
<td align="left">Evening</td>
<td align="right">9</td>
</tr>
</tbody>
</table>
<p>As you can see, in long-data format, the data gets really long. The rule here is that each dependent measure (e.g., the counts of phone looking) is listed on a single row. There ar 5 x 3 = 15 total individual measures, so there must be 15 rows in the long-form representation.</p>
</div>
<div id="converting-wide-to-long" class="section level3">
<h3 class="hasAnchor">
<a href="#converting-wide-to-long" class="anchor"></a>Converting Wide to long</h3>
<p>Sometimes you might receive data in wide format and need to convert it to long format. This can be accomplished in R in multiple different ways. You can write custom code to do it, or you can try using various existing functions. If you Google “wide to long in R,” you might come across a curious history of functions that have been developed to provide this function. One part of that history is that the functions keep getting re-written so that they are “more clear” about how they work. I’ll admit that I have found these functions confusing before, and usually find myself messing around with them until they do the conversion I’m looking for. In any case, here is an example of pivoting from wide to long using <code>tidyr</code></p>
<div class="sourceCode" id="cb3"><html><body><pre class="r"><span class="fu"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="no">tidyr</span>)

<span class="fu"><a href="https://tidyr.tidyverse.org/reference/pivot_longer.html">pivot_longer</a></span>(<span class="kw">data</span> <span class="kw">=</span> <span class="no">wide_data</span>,
             <span class="kw">cols</span> <span class="kw">=</span> !<span class="no">person</span>,
             <span class="kw">names_to</span> <span class="kw">=</span> <span class="st">"time_of_day"</span>,
             <span class="kw">values_to</span> <span class="kw">=</span> <span class="st">"counts"</span>)
<span class="co">#&gt; # A tibble: 15 x 3</span>
<span class="co">#&gt;    person time_of_day counts</span>
<span class="co">#&gt;     &lt;int&gt; &lt;chr&gt;        &lt;dbl&gt;</span>
<span class="co">#&gt;  1      1 Morning          1</span>
<span class="co">#&gt;  2      1 Afternoon        3</span>
<span class="co">#&gt;  3      1 Evening          7</span>
<span class="co">#&gt;  4      2 Morning          3</span>
<span class="co">#&gt;  5      2 Afternoon        4</span>
<span class="co">#&gt;  6      2 Evening          8</span>
<span class="co">#&gt;  7      3 Morning          2</span>
<span class="co">#&gt;  8      3 Afternoon        5</span>
<span class="co">#&gt;  9      3 Evening          7</span>
<span class="co">#&gt; 10      4 Morning          4</span>
<span class="co">#&gt; 11      4 Afternoon        4</span>
<span class="co">#&gt; 12      4 Evening          6</span>
<span class="co">#&gt; 13      5 Morning          3</span>
<span class="co">#&gt; 14      5 Afternoon        7</span>
<span class="co">#&gt; 15      5 Evening          9</span></pre></body></html></div>
</div>
<div id="custom-to-long" class="section level3">
<h3 class="hasAnchor">
<a href="#custom-to-long" class="anchor"></a>Custom to long</h3>
<p>The grim reality is that data that is not made by you could take a huge number of different formats. And, once you get it into R, you may have wrangle it into shape before you can proceed to analyze it. In this example, I will show a strange data format, and write some custom code to wrangle it into long-format. This is just to illustrate the general idea that sometimes you may have to do custom data shaping.</p>
<p>Consider the following format. Each subject’s phone checking count is a number separated by commas. The first number is always for morning, the second is for afternoon, and the third for evening. Individual subjects are separated by semi-colons. Thus, the first three numbers are for subject 1, and the next three are for subject 2, and so on. As you can see, all of the data from before is perfectly preserved, all on one line.</p>
<div class="sourceCode" id="cb4"><html><body><pre class="r"><span class="no">the_data</span><span class="kw">&lt;-</span><span class="st">"1,3,7;3,4,8;2,5,7;4,4,6;3,7,9"</span></pre></body></html></div>
<p>So, we have a custom format above, and now we need to get it into long format. Unfortunately, there are no tidy-verse functions for shaping weird custom data formats. So, someone has pull some tricks out of their hat.</p>
<div class="sourceCode" id="cb5"><html><body><pre class="r"><span class="fu"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="no">dplyr</span>)


<span class="no">subjects</span> <span class="kw">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/unlist.html">unlist</a></span>(<span class="fu"><a href="https://rdrr.io/r/base/strsplit.html">strsplit</a></span>(<span class="no">the_data</span>, <span class="kw">split</span> <span class="kw">=</span> <span class="st">";"</span>))
<span class="no">subjects</span>
<span class="co">#&gt; [1] "1,3,7" "3,4,8" "2,5,7" "4,4,6" "3,7,9"</span>
<span class="no">subjects</span> <span class="kw">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/strsplit.html">strsplit</a></span>(<span class="no">subjects</span>,<span class="kw">split</span><span class="kw">=</span><span class="st">","</span>)
<span class="no">subjects</span>
<span class="co">#&gt; [[1]]</span>
<span class="co">#&gt; [1] "1" "3" "7"</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; [[2]]</span>
<span class="co">#&gt; [1] "3" "4" "8"</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; [[3]]</span>
<span class="co">#&gt; [1] "2" "5" "7"</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; [[4]]</span>
<span class="co">#&gt; [1] "4" "4" "6"</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; [[5]]</span>
<span class="co">#&gt; [1] "3" "7" "9"</span>

<span class="no">subjects</span> <span class="kw">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/t.html">t</a></span>(<span class="fu"><a href="https://rdrr.io/r/base/data.frame.html">data.frame</a></span>(<span class="no">subjects</span>))
<span class="no">subjects</span>
<span class="co">#&gt;                  [,1] [,2] [,3]</span>
<span class="co">#&gt; c..1....3....7.. "1"  "3"  "7" </span>
<span class="co">#&gt; c..3....4....8.. "3"  "4"  "8" </span>
<span class="co">#&gt; c..2....5....7.. "2"  "5"  "7" </span>
<span class="co">#&gt; c..4....4....6.. "4"  "4"  "6" </span>
<span class="co">#&gt; c..3....7....9.. "3"  "7"  "9"</span>
<span class="fu"><a href="https://rdrr.io/r/base/colnames.html">colnames</a></span>(<span class="no">subjects</span>) <span class="kw">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"Morning"</span>,<span class="st">"Afternoon"</span>,<span class="st">"Evening"</span>)
<span class="no">subjects</span>
<span class="co">#&gt;                  Morning Afternoon Evening</span>
<span class="co">#&gt; c..1....3....7.. "1"     "3"       "7"    </span>
<span class="co">#&gt; c..3....4....8.. "3"     "4"       "8"    </span>
<span class="co">#&gt; c..2....5....7.. "2"     "5"       "7"    </span>
<span class="co">#&gt; c..4....4....6.. "4"     "4"       "6"    </span>
<span class="co">#&gt; c..3....7....9.. "3"     "7"       "9"</span>
<span class="fu"><a href="https://rdrr.io/r/base/row.names.html">row.names</a></span>(<span class="no">subjects</span>) <span class="kw">&lt;-</span> <span class="fl">1</span>:<span class="fl">5</span>
<span class="no">subjects</span> <span class="kw">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/as.data.frame.html">as.data.frame</a></span>(<span class="no">subjects</span>) <span class="kw">%&gt;%</span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span>(<span class="kw">person</span><span class="kw">=</span><span class="fl">1</span>:<span class="fl">5</span>)

<span class="fu"><a href="https://tidyr.tidyverse.org/reference/pivot_longer.html">pivot_longer</a></span>(<span class="kw">data</span> <span class="kw">=</span> <span class="no">subjects</span>,
             <span class="kw">cols</span> <span class="kw">=</span> <span class="fl">1</span>:<span class="fl">3</span>,
             <span class="kw">names_to</span> <span class="kw">=</span> <span class="st">"time_of_day"</span>,
             <span class="kw">values_to</span> <span class="kw">=</span> <span class="st">"counts"</span>)
<span class="co">#&gt; # A tibble: 15 x 3</span>
<span class="co">#&gt;    person time_of_day counts</span>
<span class="co">#&gt;     &lt;int&gt; &lt;chr&gt;       &lt;chr&gt; </span>
<span class="co">#&gt;  1      1 Morning     1     </span>
<span class="co">#&gt;  2      1 Afternoon   3     </span>
<span class="co">#&gt;  3      1 Evening     7     </span>
<span class="co">#&gt;  4      2 Morning     3     </span>
<span class="co">#&gt;  5      2 Afternoon   4     </span>
<span class="co">#&gt;  6      2 Evening     8     </span>
<span class="co">#&gt;  7      3 Morning     2     </span>
<span class="co">#&gt;  8      3 Afternoon   5     </span>
<span class="co">#&gt;  9      3 Evening     7     </span>
<span class="co">#&gt; 10      4 Morning     4     </span>
<span class="co">#&gt; 11      4 Afternoon   4     </span>
<span class="co">#&gt; 12      4 Evening     6     </span>
<span class="co">#&gt; 13      5 Morning     3     </span>
<span class="co">#&gt; 14      5 Afternoon   7     </span>
<span class="co">#&gt; 15      5 Evening     9</span></pre></body></html></div>
<!--

Functions are shape dependent


```r

find_group_means_A <- function(x){
  colMeans(x)
}

find_group_means_B <- function(x,IV,DV){
  aggregate(DV~IV, data=x, mean)
}

wide_data <- matrix(1:20,ncol=2)
long_data <- data.frame(IV = rep(c("A","B"),each=10),
                        DV = 1:20)

find_group_means_A(wide_data)
#> [1]  5.5 15.5
find_group_means_B(long_data)
#>   IV   DV
#> 1  A  5.5
#> 2  B 15.5
```

-->
</div>
</div>
<div id="practical-i-simulated-data-for-different-designs" class="section level2">
<h2 class="hasAnchor">
<a href="#practical-i-simulated-data-for-different-designs" class="anchor"></a>Practical I: Simulated data for different designs</h2>
<p>The purpose of this section is to focus on the process of creating data-structures in R that have the following properties:</p>
<ol style="list-style-type: decimal">
<li>They appropriately represent the data necessary for a particular design</li>
<li>They are formatted so that R functions for statistical tests can be performed on them</li>
</ol>
<div id="one-sample-t-test" class="section level3">
<h3 class="hasAnchor">
<a href="#one-sample-t-test" class="anchor"></a>One-sample t-test</h3>
<p>A one-sample t-test involves a vector of means. Here, a vector of means is created by sampling 10 values from a unit normal distribution.</p>
<div class="sourceCode" id="cb6"><html><body><pre class="r"><span class="no">dv</span> <span class="kw">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html">rnorm</a></span>(<span class="fl">10</span>,<span class="fl">0</span>,<span class="fl">1</span>)
<span class="fu"><a href="https://rdrr.io/r/stats/t.test.html">t.test</a></span>(<span class="no">dv</span>)
<span class="co">#&gt; </span>
<span class="co">#&gt;  One Sample t-test</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; data:  dv</span>
<span class="co">#&gt; t = 1.3482, df = 9, p-value = 0.2105</span>
<span class="co">#&gt; alternative hypothesis: true mean is not equal to 0</span>
<span class="co">#&gt; 95 percent confidence interval:</span>
<span class="co">#&gt;  -0.2989495  1.1809466</span>
<span class="co">#&gt; sample estimates:</span>
<span class="co">#&gt; mean of x </span>
<span class="co">#&gt; 0.4409985</span></pre></body></html></div>
<p>Consider a design with 50 participants. Each participant takes a TRUE/FALSE quiz with 10 questions. A researcher wants to apply a one-sample t-test to test whether the participants performed better than chance.</p>
<ol style="list-style-type: decimal">
<li>
<p>Create example raw data that represents each subjects’ answer to each question</p>
<ul>
<li><p>There 50 participants x 10 questions, so there must be 500 cells</p></li>
<li><p>I sample 1s and 0s from a binomial to indicate correct vs incorrect one each question</p></li>
</ul>
</li>
<li><p>Create a summary vector of means suitable for the t.test function</p></li>
<li><p>Run the t.test</p></li>
</ol>
<div class="sourceCode" id="cb7"><html><body><pre class="r"><span class="no">subject_data</span> <span class="kw">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html">matrix</a></span>( <span class="fu"><a href="https://rdrr.io/r/stats/Binomial.html">rbinom</a></span>(<span class="fl">50</span>*<span class="fl">10</span>,<span class="fl">1</span>,<span class="fl">.5</span>), <span class="kw">ncol</span><span class="kw">=</span><span class="fl">10</span>, <span class="kw">nrow</span><span class="kw">=</span><span class="fl">50</span>)
<span class="no">subject_means</span> <span class="kw">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/colSums.html">rowMeans</a></span>(<span class="no">subject_data</span>)
<span class="fu"><a href="https://rdrr.io/r/stats/t.test.html">t.test</a></span>(<span class="no">subject_means</span>,, <span class="kw">mu</span><span class="kw">=</span><span class="fl">.5</span>)
<span class="co">#&gt; </span>
<span class="co">#&gt;  One Sample t-test</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; data:  subject_means</span>
<span class="co">#&gt; t = 0.7208, df = 49, p-value = 0.4745</span>
<span class="co">#&gt; alternative hypothesis: true mean is not equal to 0.5</span>
<span class="co">#&gt; 95 percent confidence interval:</span>
<span class="co">#&gt;  0.4713922 0.5606078</span>
<span class="co">#&gt; sample estimates:</span>
<span class="co">#&gt; mean of x </span>
<span class="co">#&gt;     0.516</span></pre></body></html></div>
</div>
<div id="paired-sample-t-test" class="section level3">
<h3 class="hasAnchor">
<a href="#paired-sample-t-test" class="anchor"></a>Paired sample t-test</h3>
<p>Consider a design measuring fluctuations in weight as a function of weekday vs. weekend. Researchers have 25 people weigh themselves 5 times throughout the day on Wednesday, and 5 times throughout the day on Sunday. Create a data frame that represents this situation, and conduct a paired sample t-test.</p>
<p>To break this down, we will create a long data.frame with four columns: Subject number, Day, measurement number, weight. How many rows must their be? There are 25 people, 5 measurements per day, and two days of measurements. In long-format, there is only one measure per row. Therefore, there are 25 x 5 x 2 = 250 rows.</p>
<p>I repeat each number from 1 to 25, 10 times each.</p>
<div class="sourceCode" id="cb8"><html><body><pre class="r"><span class="no">subject_number</span> <span class="kw">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html">rep</a></span>(<span class="fl">1</span>:<span class="fl">25</span>, <span class="kw">each</span><span class="kw">=</span><span class="fl">10</span>)</pre></body></html></div>
<p>The day column has two levels, Wednesday vs. Sunday. Each level has to appear 5 times for each subject.</p>
<div class="sourceCode" id="cb9"><html><body><pre class="r"><span class="co">#day &lt;- rep(c("Wednesday","Sunday"), each = 5) # makes one subject</span>
<span class="no">day</span> <span class="kw">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html">rep</a></span>(<span class="fu"><a href="https://rdrr.io/r/base/rep.html">rep</a></span>(<span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"Wednesday"</span>,<span class="st">"Sunday"</span>), <span class="kw">each</span> <span class="kw">=</span> <span class="fl">5</span>), <span class="fl">25</span>)</pre></body></html></div>
<p>We need a variable to represent each of the five measurements that are taken per day. Let’s call this measurement_number</p>
<div class="sourceCode" id="cb10"><html><body><pre class="r"><span class="no">measurement_number</span> <span class="kw">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html">rep</a></span>(<span class="fl">1</span>:<span class="fl">5</span>, <span class="fl">2</span>*<span class="fl">25</span>)</pre></body></html></div>
<p>We need some pretend measurements. For now, let’s just choose some random numbers from a normal distribution. We need 250 numbers.</p>
<div class="sourceCode" id="cb11"><html><body><pre class="r"><span class="no">weights</span> <span class="kw">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html">rnorm</a></span>(<span class="fl">250</span>, <span class="fl">100</span>, <span class="fl">25</span>)</pre></body></html></div>
<p>Next, let’s combine all of these vectors into a data.frame</p>
<div class="sourceCode" id="cb12"><html><body><pre class="r"><span class="no">weight_data</span> <span class="kw">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html">data.frame</a></span>(<span class="no">subject_number</span>,
                          <span class="no">day</span>,
                          <span class="no">measurement_number</span>,
                          <span class="no">weights</span>)
<span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span>(<span class="no">weight_data</span>)
<span class="co">#&gt;   subject_number       day measurement_number   weights</span>
<span class="co">#&gt; 1              1 Wednesday                  1  94.00785</span>
<span class="co">#&gt; 2              1 Wednesday                  2 114.58620</span>
<span class="co">#&gt; 3              1 Wednesday                  3  94.24392</span>
<span class="co">#&gt; 4              1 Wednesday                  4  78.82230</span>
<span class="co">#&gt; 5              1 Wednesday                  5 105.70065</span>
<span class="co">#&gt; 6              1    Sunday                  1 118.58670</span></pre></body></html></div>
<p>Note, we could have defined everything inside a single data.frame</p>
<div class="sourceCode" id="cb13"><html><body><pre class="r"><span class="no">weight_data</span> <span class="kw">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html">data.frame</a></span>(<span class="kw">subject_number</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html">rep</a></span>(<span class="fl">1</span>:<span class="fl">25</span>, <span class="kw">each</span><span class="kw">=</span><span class="fl">10</span>),
                          <span class="kw">day</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html">rep</a></span>(<span class="fu"><a href="https://rdrr.io/r/base/rep.html">rep</a></span>(<span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"Wednesday"</span>,<span class="st">"Sunday"</span>), <span class="kw">each</span> <span class="kw">=</span> <span class="fl">5</span>), <span class="fl">25</span>),
                          <span class="kw">measurement_number</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html">rep</a></span>(<span class="fl">1</span>:<span class="fl">5</span>, <span class="fl">2</span>*<span class="fl">25</span>),
                          <span class="kw">weights</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html">rnorm</a></span>(<span class="fl">250</span>, <span class="fl">100</span>, <span class="fl">25</span>))</pre></body></html></div>
<p>The data.frame <code>weight_data</code> now represents the complete shape of the data implied by the research design. However, this data is not yet ready for the <code>t.test</code> function. This is because the <code>t.test</code> function assumes that inputs will be means for each participant in each condition. So, the raw data must be summarized first. In other words, we must find the mean weight within each day that each participant was measured. We will continue to use the <code>dplyr</code> syntax to group and summarize data.</p>
<div class="sourceCode" id="cb14"><html><body><pre class="r"><span class="no">subject_means</span> <span class="kw">&lt;-</span> <span class="no">weight_data</span> <span class="kw">%&gt;%</span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html">group_by</a></span>(<span class="no">subject_number</span>,<span class="no">day</span>) <span class="kw">%&gt;%</span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html">summarize</a></span>(<span class="kw">mean_weight</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span>(<span class="no">weights</span>), <span class="kw">.groups</span> <span class="kw">=</span> <span class="st">"drop"</span>)

<span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span>(<span class="no">subject_means</span>)
<span class="co">#&gt; # A tibble: 6 x 3</span>
<span class="co">#&gt;   subject_number day       mean_weight</span>
<span class="co">#&gt;            &lt;int&gt; &lt;chr&gt;           &lt;dbl&gt;</span>
<span class="co">#&gt; 1              1 Sunday           96.1</span>
<span class="co">#&gt; 2              1 Wednesday        98.7</span>
<span class="co">#&gt; 3              2 Sunday           74.3</span>
<span class="co">#&gt; 4              2 Wednesday       121. </span>
<span class="co">#&gt; 5              3 Sunday          131. </span>
<span class="co">#&gt; 6              3 Wednesday        91.2</span></pre></body></html></div>
<p>Finally, we can run the <code>t.test</code></p>
<div class="sourceCode" id="cb15"><html><body><pre class="r"><span class="fu"><a href="https://rdrr.io/r/stats/t.test.html">t.test</a></span>(<span class="no">mean_weight</span>~<span class="no">day</span>, <span class="kw">paired</span><span class="kw">=</span><span class="fl">TRUE</span>, <span class="kw">data</span><span class="kw">=</span><span class="no">subject_means</span>)
<span class="co">#&gt; </span>
<span class="co">#&gt;  Paired t-test</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; data:  mean_weight by day</span>
<span class="co">#&gt; t = -1.9241, df = 24, p-value = 0.06628</span>
<span class="co">#&gt; alternative hypothesis: true difference in means is not equal to 0</span>
<span class="co">#&gt; 95 percent confidence interval:</span>
<span class="co">#&gt;  -14.070887   0.493286</span>
<span class="co">#&gt; sample estimates:</span>
<span class="co">#&gt; mean of the differences </span>
<span class="co">#&gt;                 -6.7888</span></pre></body></html></div>
</div>
<div id="independent-sample-t-test" class="section level3">
<h3 class="hasAnchor">
<a href="#independent-sample-t-test" class="anchor"></a>Independent sample t-test</h3>
<p>A researcher gives 10 subjects a recall memory test. They all read 50 words for a later memory test. After a short break half of the participants are put in a noisy room, and the other half are put in a quiet room. They are all given a piece of paper with 50 lines and asked to write down as memory words as they can remember. The raw data is coded as 1s or 0s, with 1 representing a correctly recalled word and 0 represent an incorrectly recalled word. A researcher wants to do a t-test on the number of correctly recalled words in the noisy vs quiet room.</p>
<p>Note, I switch to using a <a href="https://blog.rstudio.com/2016/03/24/tibble-1-0-0/">tibble</a> here instead of a data.frame.</p>
<div class="sourceCode" id="cb16"><html><body><pre class="r">
<span class="no">subjects</span> <span class="kw">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html">rep</a></span>(<span class="fl">1</span>:<span class="fl">10</span>, <span class="kw">each</span> <span class="kw">=</span> <span class="fl">50</span>)
<span class="no">room</span> <span class="kw">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html">rep</a></span>(<span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"Noisy"</span>,<span class="st">"Quiet"</span>), <span class="kw">each</span> <span class="kw">=</span> <span class="fl">50</span>*<span class="fl">5</span>)
<span class="no">words</span> <span class="kw">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html">rep</a></span>(<span class="fl">1</span>:<span class="fl">50</span>, <span class="fl">10</span>)
<span class="no">correct</span> <span class="kw">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/Binomial.html">rbinom</a></span>(<span class="fl">500</span>,<span class="fl">1</span>,<span class="fl">.5</span>)

<span class="no">recall_data</span> <span class="kw">&lt;-</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/reexports.html">tibble</a></span>(<span class="no">subjects</span>,
                      <span class="no">room</span>,
                      <span class="no">words</span>,
                      <span class="no">correct</span>)

<span class="no">recall_data</span>
<span class="co">#&gt; # A tibble: 500 x 4</span>
<span class="co">#&gt;    subjects room  words correct</span>
<span class="co">#&gt;       &lt;int&gt; &lt;chr&gt; &lt;int&gt;   &lt;int&gt;</span>
<span class="co">#&gt;  1        1 Noisy     1       1</span>
<span class="co">#&gt;  2        1 Noisy     2       1</span>
<span class="co">#&gt;  3        1 Noisy     3       1</span>
<span class="co">#&gt;  4        1 Noisy     4       0</span>
<span class="co">#&gt;  5        1 Noisy     5       0</span>
<span class="co">#&gt;  6        1 Noisy     6       0</span>
<span class="co">#&gt;  7        1 Noisy     7       0</span>
<span class="co">#&gt;  8        1 Noisy     8       0</span>
<span class="co">#&gt;  9        1 Noisy     9       0</span>
<span class="co">#&gt; 10        1 Noisy    10       0</span>
<span class="co">#&gt; # … with 490 more rows</span>

<span class="no">count_data</span> <span class="kw">&lt;-</span> <span class="no">recall_data</span> <span class="kw">%&gt;%</span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html">group_by</a></span>(<span class="no">subjects</span>,<span class="no">room</span>) <span class="kw">%&gt;%</span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html">summarize</a></span>(<span class="kw">number_correct</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html">sum</a></span>(<span class="no">correct</span>), <span class="kw">.groups</span><span class="kw">=</span><span class="st">"drop"</span>)

<span class="no">count_data</span>
<span class="co">#&gt; # A tibble: 10 x 3</span>
<span class="co">#&gt;    subjects room  number_correct</span>
<span class="co">#&gt;       &lt;int&gt; &lt;chr&gt;          &lt;int&gt;</span>
<span class="co">#&gt;  1        1 Noisy             27</span>
<span class="co">#&gt;  2        2 Noisy             23</span>
<span class="co">#&gt;  3        3 Noisy             27</span>
<span class="co">#&gt;  4        4 Noisy             22</span>
<span class="co">#&gt;  5        5 Noisy             27</span>
<span class="co">#&gt;  6        6 Quiet             22</span>
<span class="co">#&gt;  7        7 Quiet             25</span>
<span class="co">#&gt;  8        8 Quiet             17</span>
<span class="co">#&gt;  9        9 Quiet             30</span>
<span class="co">#&gt; 10       10 Quiet             23</span>

<span class="fu"><a href="https://rdrr.io/r/stats/t.test.html">t.test</a></span>(<span class="no">number_correct</span>~<span class="no">room</span>, <span class="kw">var.equal</span><span class="kw">=</span><span class="fl">TRUE</span>, <span class="kw">data</span><span class="kw">=</span><span class="no">count_data</span>)
<span class="co">#&gt; </span>
<span class="co">#&gt;  Two Sample t-test</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; data:  number_correct by room</span>
<span class="co">#&gt; t = 0.75394, df = 8, p-value = 0.4725</span>
<span class="co">#&gt; alternative hypothesis: true difference in means is not equal to 0</span>
<span class="co">#&gt; 95 percent confidence interval:</span>
<span class="co">#&gt;  -3.705509  7.305509</span>
<span class="co">#&gt; sample estimates:</span>
<span class="co">#&gt; mean in group Noisy mean in group Quiet </span>
<span class="co">#&gt;                25.2                23.4</span></pre></body></html></div>
</div>
<div id="simple-linear-regression" class="section level3">
<h3 class="hasAnchor">
<a href="#simple-linear-regression" class="anchor"></a>Simple linear regression</h3>
<p>100 people write down their height in centimeters, and the day of the month they were born. Conduct a linear regression to see if day of month explains variation in height</p>
<div class="sourceCode" id="cb17"><html><body><pre class="r">
<span class="no">people</span> <span class="kw">&lt;-</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/reexports.html">tibble</a></span>(<span class="kw">height</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html">rnorm</a></span>(<span class="fl">100</span>, <span class="fl">90</span>, <span class="fl">10</span>),
                 <span class="kw">day</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sample.html">sample</a></span>(<span class="fl">1</span>:<span class="fl">31</span>, <span class="fl">100</span>, <span class="kw">replace</span><span class="kw">=</span><span class="fl">TRUE</span>))

<span class="no">people</span>
<span class="co">#&gt; # A tibble: 100 x 2</span>
<span class="co">#&gt;    height   day</span>
<span class="co">#&gt;     &lt;dbl&gt; &lt;int&gt;</span>
<span class="co">#&gt;  1   88.2    13</span>
<span class="co">#&gt;  2   97.7    16</span>
<span class="co">#&gt;  3   85.5    15</span>
<span class="co">#&gt;  4   81.5    21</span>
<span class="co">#&gt;  5   74.7    15</span>
<span class="co">#&gt;  6   83.1    18</span>
<span class="co">#&gt;  7   89.2    20</span>
<span class="co">#&gt;  8   93.9    18</span>
<span class="co">#&gt;  9  103.     11</span>
<span class="co">#&gt; 10   90.7     9</span>
<span class="co">#&gt; # … with 90 more rows</span>

<span class="no">lm.out</span> <span class="kw">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/lm.html">lm</a></span>(<span class="no">height</span>~<span class="no">day</span>, <span class="kw">data</span><span class="kw">=</span> <span class="no">people</span>)
<span class="no">lm.out</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Call:</span>
<span class="co">#&gt; lm(formula = height ~ day, data = people)</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Coefficients:</span>
<span class="co">#&gt; (Intercept)          day  </span>
<span class="co">#&gt;    92.39182     -0.07784</span>
<span class="fu"><a href="https://rdrr.io/r/base/summary.html">summary</a></span>(<span class="no">lm.out</span>)
<span class="co">#&gt; </span>
<span class="co">#&gt; Call:</span>
<span class="co">#&gt; lm(formula = height ~ day, data = people)</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Residuals:</span>
<span class="co">#&gt;      Min       1Q   Median       3Q      Max </span>
<span class="co">#&gt; -26.1341  -5.0898   0.1004   6.4470  23.0047 </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Coefficients:</span>
<span class="co">#&gt;             Estimate Std. Error t value Pr(&gt;|t|)    </span>
<span class="co">#&gt; (Intercept) 92.39182    2.02085  45.719   &lt;2e-16 ***</span>
<span class="co">#&gt; day         -0.07784    0.10787  -0.722    0.472    </span>
<span class="co">#&gt; ---</span>
<span class="co">#&gt; Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Residual standard error: 9.471 on 98 degrees of freedom</span>
<span class="co">#&gt; Multiple R-squared:  0.005286,   Adjusted R-squared:  -0.004864 </span>
<span class="co">#&gt; F-statistic: 0.5208 on 1 and 98 DF,  p-value: 0.4722</span></pre></body></html></div>
</div>
<div id="one-way-anova" class="section level3">
<h3 class="hasAnchor">
<a href="#one-way-anova" class="anchor"></a>One-way ANOVA</h3>
<p>We haven’t yet covered one-way ANOVA in this course. You may already be familiar with ANOVA. For now, we can think of it is a kind of extension of t-tests to deal with single-factor designs with more than one level. For example, consider extending the paired t-test sample above. In that example, 25 people weighed themselves 5 times throughout the day on Wednesday, and 5 times throughout the day on Sunday. The independent variable is day, and it has two levels (Wednesday vs Sunday). Why should we stop at Wednesday vs. Sunday? There are five other days of the week. Maybe each day has its own influence on weight.</p>
<p>Consider simulating data for a one-factor design with 7 levels, one for each day of the week. N=25, and each person measures themselves 5 times each day.</p>
<div class="sourceCode" id="cb18"><html><body><pre class="r"><span class="no">weight_data</span> <span class="kw">&lt;-</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/reexports.html">tibble</a></span>(<span class="kw">subject_number</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html">rep</a></span>(<span class="fl">1</span>:<span class="fl">25</span>, <span class="kw">each</span><span class="kw">=</span><span class="fl">5</span>*<span class="fl">7</span>),
                          <span class="kw">day</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html">rep</a></span>(<span class="fu"><a href="https://rdrr.io/r/base/rep.html">rep</a></span>(<span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"S"</span>,<span class="st">"M"</span>,<span class="st">"T"</span>,<span class="st">"W"</span>,<span class="st">"Th"</span>,<span class="st">"F"</span>,<span class="st">"Sa"</span>),
                                      <span class="kw">each</span> <span class="kw">=</span> <span class="fl">5</span>), <span class="fl">25</span>),
                          <span class="kw">measurement_number</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html">rep</a></span>(<span class="fl">1</span>:<span class="fl">5</span>, <span class="fl">7</span>*<span class="fl">25</span>),
                          <span class="kw">weights</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html">rnorm</a></span>(<span class="fl">25</span>*<span class="fl">5</span>*<span class="fl">7</span>, <span class="fl">100</span>, <span class="fl">25</span>))</pre></body></html></div>
<p>As we will see in later labs on ANOVA, the analysis can be performed in one-line with the <code>aov</code> function</p>
<div class="sourceCode" id="cb19"><html><body><pre class="r"><span class="no">subject_means</span> <span class="kw">&lt;-</span> <span class="no">weight_data</span> <span class="kw">%&gt;%</span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html">group_by</a></span>(<span class="no">subject_number</span>,<span class="no">day</span>) <span class="kw">%&gt;%</span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html">summarize</a></span>(<span class="kw">mean_weight</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span>(<span class="no">weights</span>), <span class="kw">.groups</span><span class="kw">=</span><span class="st">"drop"</span>)

<span class="no">subject_means</span>
<span class="co">#&gt; # A tibble: 175 x 3</span>
<span class="co">#&gt;    subject_number day   mean_weight</span>
<span class="co">#&gt;             &lt;int&gt; &lt;chr&gt;       &lt;dbl&gt;</span>
<span class="co">#&gt;  1              1 F            84.9</span>
<span class="co">#&gt;  2              1 M           103. </span>
<span class="co">#&gt;  3              1 S            92.9</span>
<span class="co">#&gt;  4              1 Sa           82.4</span>
<span class="co">#&gt;  5              1 T            80.9</span>
<span class="co">#&gt;  6              1 Th          115. </span>
<span class="co">#&gt;  7              1 W           101. </span>
<span class="co">#&gt;  8              2 F            98.5</span>
<span class="co">#&gt;  9              2 M            94.9</span>
<span class="co">#&gt; 10              2 S           101. </span>
<span class="co">#&gt; # … with 165 more rows</span>

<span class="no">aov.out</span> <span class="kw">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/aov.html">aov</a></span>(<span class="no">mean_weight</span> ~ <span class="no">day</span>, <span class="kw">data</span> <span class="kw">=</span> <span class="no">subject_means</span>)
<span class="fu"><a href="https://rdrr.io/r/base/summary.html">summary</a></span>(<span class="no">aov.out</span>)
<span class="co">#&gt;              Df Sum Sq Mean Sq F value Pr(&gt;F)</span>
<span class="co">#&gt; day           6    699   116.6   0.784  0.583</span>
<span class="co">#&gt; Residuals   168  24971   148.6</span></pre></body></html></div>
<p>And, as we will also learn in class, ANOVA and Linear Regression are fundamentally the same analysis, so we could also use the <code>lm</code> function and treat the analysis as a regression.</p>
<div class="sourceCode" id="cb20"><html><body><pre class="r"><span class="no">subject_means</span> <span class="kw">&lt;-</span> <span class="no">weight_data</span> <span class="kw">%&gt;%</span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html">group_by</a></span>(<span class="no">subject_number</span>,<span class="no">day</span>) <span class="kw">%&gt;%</span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html">summarize</a></span>(<span class="kw">mean_weight</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span>(<span class="no">weights</span>), <span class="kw">.groups</span><span class="kw">=</span><span class="st">"drop"</span>)

<span class="no">subject_means</span>
<span class="co">#&gt; # A tibble: 175 x 3</span>
<span class="co">#&gt;    subject_number day   mean_weight</span>
<span class="co">#&gt;             &lt;int&gt; &lt;chr&gt;       &lt;dbl&gt;</span>
<span class="co">#&gt;  1              1 F            84.9</span>
<span class="co">#&gt;  2              1 M           103. </span>
<span class="co">#&gt;  3              1 S            92.9</span>
<span class="co">#&gt;  4              1 Sa           82.4</span>
<span class="co">#&gt;  5              1 T            80.9</span>
<span class="co">#&gt;  6              1 Th          115. </span>
<span class="co">#&gt;  7              1 W           101. </span>
<span class="co">#&gt;  8              2 F            98.5</span>
<span class="co">#&gt;  9              2 M            94.9</span>
<span class="co">#&gt; 10              2 S           101. </span>
<span class="co">#&gt; # … with 165 more rows</span>

<span class="no">lm.out</span> <span class="kw">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/lm.html">lm</a></span>(<span class="no">mean_weight</span> ~ <span class="no">day</span>, <span class="kw">data</span> <span class="kw">=</span> <span class="no">subject_means</span>)
<span class="fu"><a href="https://rdrr.io/r/base/summary.html">summary</a></span>(<span class="no">lm.out</span>)
<span class="co">#&gt; </span>
<span class="co">#&gt; Call:</span>
<span class="co">#&gt; lm(formula = mean_weight ~ day, data = subject_means)</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Residuals:</span>
<span class="co">#&gt;      Min       1Q   Median       3Q      Max </span>
<span class="co">#&gt; -27.5765  -8.7211   0.3986   8.3172  27.7219 </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Coefficients:</span>
<span class="co">#&gt;             Estimate Std. Error t value Pr(&gt;|t|)    </span>
<span class="co">#&gt; (Intercept)   97.915      2.438  40.157   &lt;2e-16 ***</span>
<span class="co">#&gt; dayM           3.684      3.448   1.068   0.2869    </span>
<span class="co">#&gt; dayS           1.453      3.448   0.421   0.6741    </span>
<span class="co">#&gt; daySa          0.815      3.448   0.236   0.8134    </span>
<span class="co">#&gt; dayT           2.812      3.448   0.815   0.4160    </span>
<span class="co">#&gt; dayTh          6.528      3.448   1.893   0.0601 .  </span>
<span class="co">#&gt; dayW           2.241      3.448   0.650   0.5167    </span>
<span class="co">#&gt; ---</span>
<span class="co">#&gt; Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Residual standard error: 12.19 on 168 degrees of freedom</span>
<span class="co">#&gt; Multiple R-squared:  0.02724,    Adjusted R-squared:  -0.007498 </span>
<span class="co">#&gt; F-statistic: 0.7842 on 6 and 168 DF,  p-value: 0.5834</span></pre></body></html></div>
</div>
<div id="factorial-anova" class="section level3">
<h3 class="hasAnchor">
<a href="#factorial-anova" class="anchor"></a>Factorial ANOVA</h3>
<p>The one-way ANOVA extends the t-test design in terms of the number of levels of a single factor. It is also possible to run experiments with multiple independent variables, that each have multiple levels.</p>
<p>For example, let’s continue with the above design and make some minor changes so it becomes a factorial 7x2 design. A 7x2 design has two independent variables. The first one has 7 levels, the second one has 2 levels.</p>
<p>We modify the example include a time of day factor. For example, we will have people measure their weight two times in the morning, and two times in the evening. Thus, there will be two independent variables. Day (S, M, T, W, Th, F, Sa) and time of day (morning, evening). We will keep the number of subjects at 25.</p>
<div class="sourceCode" id="cb21"><html><body><pre class="r"><span class="no">weight_data</span> <span class="kw">&lt;-</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/reexports.html">tibble</a></span>(<span class="kw">subject_number</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html">rep</a></span>(<span class="fl">1</span>:<span class="fl">25</span>, <span class="kw">each</span><span class="kw">=</span><span class="fl">4</span>*<span class="fl">7</span>),
                          <span class="kw">day</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html">rep</a></span>(<span class="fu"><a href="https://rdrr.io/r/base/rep.html">rep</a></span>(<span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"S"</span>,<span class="st">"M"</span>,<span class="st">"T"</span>,<span class="st">"W"</span>,<span class="st">"Th"</span>,<span class="st">"F"</span>,<span class="st">"Sa"</span>),
                                      <span class="kw">each</span> <span class="kw">=</span> <span class="fl">4</span>), <span class="fl">25</span>),
                          <span class="kw">time_of_day</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html">rep</a></span>(<span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"Morning"</span>,<span class="st">"Evening"</span>),<span class="fl">2</span>*<span class="fl">7</span>*<span class="fl">25</span>),
                          <span class="kw">measurement_number</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html">rep</a></span>(<span class="fu"><a href="https://rdrr.io/r/base/rep.html">rep</a></span>(<span class="fl">1</span>:<span class="fl">2</span>, <span class="fl">2</span>), <span class="fl">7</span>*<span class="fl">25</span>),
                          <span class="kw">weights</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html">rnorm</a></span>(<span class="fl">25</span>*<span class="fl">4</span>*<span class="fl">7</span>, <span class="fl">100</span>, <span class="fl">25</span>))</pre></body></html></div>
<div class="sourceCode" id="cb22"><html><body><pre class="r"><span class="no">subject_means</span> <span class="kw">&lt;-</span> <span class="no">weight_data</span> <span class="kw">%&gt;%</span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html">group_by</a></span>(<span class="no">subject_number</span>,<span class="no">day</span>, <span class="no">time_of_day</span>) <span class="kw">%&gt;%</span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html">summarize</a></span>(<span class="kw">mean_weight</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span>(<span class="no">weights</span>), <span class="kw">.groups</span><span class="kw">=</span><span class="st">"drop"</span>)

<span class="no">subject_means</span>
<span class="co">#&gt; # A tibble: 350 x 4</span>
<span class="co">#&gt;    subject_number day   time_of_day mean_weight</span>
<span class="co">#&gt;             &lt;int&gt; &lt;chr&gt; &lt;chr&gt;             &lt;dbl&gt;</span>
<span class="co">#&gt;  1              1 F     Evening            82.6</span>
<span class="co">#&gt;  2              1 F     Morning           116. </span>
<span class="co">#&gt;  3              1 M     Evening            77.1</span>
<span class="co">#&gt;  4              1 M     Morning           114. </span>
<span class="co">#&gt;  5              1 S     Evening            77.5</span>
<span class="co">#&gt;  6              1 S     Morning            66.4</span>
<span class="co">#&gt;  7              1 Sa    Evening           106. </span>
<span class="co">#&gt;  8              1 Sa    Morning           106. </span>
<span class="co">#&gt;  9              1 T     Evening           120. </span>
<span class="co">#&gt; 10              1 T     Morning            98.8</span>
<span class="co">#&gt; # … with 340 more rows</span>

<span class="no">aov.out</span> <span class="kw">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/aov.html">aov</a></span>(<span class="no">mean_weight</span> ~ <span class="no">day</span>*<span class="no">time_of_day</span>, <span class="kw">data</span> <span class="kw">=</span> <span class="no">subject_means</span>)
<span class="fu"><a href="https://rdrr.io/r/base/summary.html">summary</a></span>(<span class="no">aov.out</span>)
<span class="co">#&gt;                  Df Sum Sq Mean Sq F value Pr(&gt;F)</span>
<span class="co">#&gt; day               6   2271   378.4   1.226  0.292</span>
<span class="co">#&gt; time_of_day       1      6     5.6   0.018  0.893</span>
<span class="co">#&gt; day:time_of_day   6   1806   301.0   0.975  0.442</span>
<span class="co">#&gt; Residuals       336 103713   308.7</span></pre></body></html></div>
<p>Just like we can treat a one-way ANOVA as a regression, we can also treat a Factorial ANOVA as a multiple regression:</p>
<div class="sourceCode" id="cb23"><html><body><pre class="r"><span class="no">subject_means</span> <span class="kw">&lt;-</span> <span class="no">weight_data</span> <span class="kw">%&gt;%</span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html">group_by</a></span>(<span class="no">subject_number</span>,<span class="no">day</span>, <span class="no">time_of_day</span>) <span class="kw">%&gt;%</span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html">summarize</a></span>(<span class="kw">mean_weight</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span>(<span class="no">weights</span>), <span class="kw">.groups</span><span class="kw">=</span><span class="st">"drop"</span>)

<span class="no">subject_means</span>$<span class="no">day</span> <span class="kw">&lt;-</span><span class="fu"><a href="https://rdrr.io/r/base/factor.html">as.factor</a></span>(<span class="no">subject_means</span>$<span class="no">day</span>)
<span class="no">subject_means</span>$<span class="no">time_of_day</span> <span class="kw">&lt;-</span><span class="fu"><a href="https://rdrr.io/r/base/factor.html">as.factor</a></span>(<span class="no">subject_means</span>$<span class="no">time_of_day</span>)

<span class="no">subject_means</span>
<span class="co">#&gt; # A tibble: 350 x 4</span>
<span class="co">#&gt;    subject_number day   time_of_day mean_weight</span>
<span class="co">#&gt;             &lt;int&gt; &lt;fct&gt; &lt;fct&gt;             &lt;dbl&gt;</span>
<span class="co">#&gt;  1              1 F     Evening            82.6</span>
<span class="co">#&gt;  2              1 F     Morning           116. </span>
<span class="co">#&gt;  3              1 M     Evening            77.1</span>
<span class="co">#&gt;  4              1 M     Morning           114. </span>
<span class="co">#&gt;  5              1 S     Evening            77.5</span>
<span class="co">#&gt;  6              1 S     Morning            66.4</span>
<span class="co">#&gt;  7              1 Sa    Evening           106. </span>
<span class="co">#&gt;  8              1 Sa    Morning           106. </span>
<span class="co">#&gt;  9              1 T     Evening           120. </span>
<span class="co">#&gt; 10              1 T     Morning            98.8</span>
<span class="co">#&gt; # … with 340 more rows</span>

<span class="no">lm.out</span> <span class="kw">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/lm.html">lm</a></span>(<span class="no">mean_weight</span> ~ <span class="no">day</span>*<span class="no">time_of_day</span>, <span class="kw">data</span> <span class="kw">=</span> <span class="no">subject_means</span>)
<span class="fu"><a href="https://rdrr.io/r/base/summary.html">summary</a></span>(<span class="no">lm.out</span>)
<span class="co">#&gt; </span>
<span class="co">#&gt; Call:</span>
<span class="co">#&gt; lm(formula = mean_weight ~ day * time_of_day, data = subject_means)</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Residuals:</span>
<span class="co">#&gt;     Min      1Q  Median      3Q     Max </span>
<span class="co">#&gt; -47.290 -12.277   1.488  11.911  44.897 </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Coefficients:</span>
<span class="co">#&gt;                          Estimate Std. Error t value Pr(&gt;|t|)    </span>
<span class="co">#&gt; (Intercept)              103.3259     3.5138  29.406   &lt;2e-16 ***</span>
<span class="co">#&gt; dayM                       0.9182     4.9693   0.185   0.8535    </span>
<span class="co">#&gt; dayS                      -8.4007     4.9693  -1.691   0.0919 .  </span>
<span class="co">#&gt; daySa                      0.4660     4.9693   0.094   0.9253    </span>
<span class="co">#&gt; dayT                      -1.8992     4.9693  -0.382   0.7026    </span>
<span class="co">#&gt; dayTh                     -6.3157     4.9693  -1.271   0.2046    </span>
<span class="co">#&gt; dayW                      -3.3696     4.9693  -0.678   0.4982    </span>
<span class="co">#&gt; time_of_dayMorning        -1.5288     4.9693  -0.308   0.7585    </span>
<span class="co">#&gt; dayM:time_of_dayMorning   -4.9362     7.0276  -0.702   0.4829    </span>
<span class="co">#&gt; dayS:time_of_dayMorning    1.3871     7.0276   0.197   0.8436    </span>
<span class="co">#&gt; daySa:time_of_dayMorning  -0.4817     7.0276  -0.069   0.9454    </span>
<span class="co">#&gt; dayT:time_of_dayMorning    1.2701     7.0276   0.181   0.8567    </span>
<span class="co">#&gt; dayTh:time_of_dayMorning  11.2951     7.0276   1.607   0.1089    </span>
<span class="co">#&gt; dayW:time_of_dayMorning    0.3951     7.0276   0.056   0.9552    </span>
<span class="co">#&gt; ---</span>
<span class="co">#&gt; Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Residual standard error: 17.57 on 336 degrees of freedom</span>
<span class="co">#&gt; Multiple R-squared:  0.03787,    Adjusted R-squared:  0.000645 </span>
<span class="co">#&gt; F-statistic: 1.017 on 13 and 336 DF,  p-value: 0.4338</span>
<span class="fu"><a href="https://rdrr.io/r/stats/anova.html">anova</a></span>(<span class="no">lm.out</span>)
<span class="co">#&gt; Analysis of Variance Table</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Response: mean_weight</span>
<span class="co">#&gt;                  Df Sum Sq Mean Sq F value Pr(&gt;F)</span>
<span class="co">#&gt; day               6   2271  378.43  1.2260 0.2923</span>
<span class="co">#&gt; time_of_day       1      6    5.61  0.0182 0.8929</span>
<span class="co">#&gt; day:time_of_day   6   1806  301.00  0.9752 0.4419</span>
<span class="co">#&gt; Residuals       336 103713  308.67</span></pre></body></html></div>
</div>
</div>
<div id="lab-1-generalization-assignment" class="section level2">
<h2 class="hasAnchor">
<a href="#lab-1-generalization-assignment" class="anchor"></a>Lab 1 Generalization Assignment</h2>
<p>NOTE: Create a new github repository and R project for stats II, this way you can start fresh. Please save all of your labs in this repository.</p>
<div id="instructions" class="section level3">
<h3 class="hasAnchor">
<a href="#instructions" class="anchor"></a>Instructions</h3>
<p>Your assignment instructions are the following:</p>
<ol style="list-style-type: decimal">
<li>Work inside the new R project that you created</li>
<li>Create a new R Markdown document called “Lab1.Rmd”</li>
<li>Use Lab1.Rmd to show your work attempting to solve the following generalization problems. Commit your work regularly so that it appears on your Github repository.</li>
<li>
<strong>For each problem, make a note about how much of the problem you believe you can solve independently without help</strong>. For example, if you needed to watch the help video and are unable to solve the problem on your own without copying the answers, then your note would be 0. If you are confident you can complete the problem from scratch completely on your own, your note would be 100. It is OK to have all 0s or 100s anything in between.</li>
<li>Submit your github repository link for Lab 1 on blackboard.</li>
</ol>
</div>
<div id="problems" class="section level3">
<h3 class="hasAnchor">
<a href="#problems" class="anchor"></a>Problems</h3>
<p><strong>Important:</strong> This lab has one coding problem, and one written problem. Both are worth 3 points. The written problem must be completed before next class. No points will be awarded for late assignments. It is critical that you complete the written portion because it is necessary for your participation next week.</p>
<div id="written-problem" class="section level4">
<h4 class="hasAnchor">
<a href="#written-problem" class="anchor"></a>Written Problem</h4>
<p>3 points</p>
<p>We will go over this in-class too. In chapter 5 on regression, Abdi discusses a primary research article from 1960 by <span class="citation"><a href="#ref-slameckaRetroactiveInhibitionConnected1960" role="doc-biblioref">Slamecka</a> (<a href="#ref-slameckaRetroactiveInhibitionConnected1960" role="doc-biblioref">1960</a>)</span> as an example. A pdf of this article is located in the shared zotero library. Your writing assignment is as follows:</p>
<ol style="list-style-type: decimal">
<li>Read the paper (it is only 5 pages)</li>
<li>Write a point-form QALMRI summary of the paper.</li>
</ol>
<p>I will explain in-class what a QALMRI summary is, but you can also read the general instructions here: <a href="https://crumplab.github.io/ResearchMethodsLab/qalmri.html">https://crumplab.github.io/ResearchMethodsLab/qalmri.html</a></p>
<ol start="3" style="list-style-type: decimal">
<li>Submit your QALMRI assignment on Blackboard</li>
</ol>
<p>NOTE: next class we will discuss your QALMRI in groups, then as a bigger group, to make sure we understand the design.</p>
</div>
<div id="coding-problem" class="section level4">
<h4 class="hasAnchor">
<a href="#coding-problem" class="anchor"></a>Coding problem</h4>
<p>3 points</p>
<ol style="list-style-type: decimal">
<li>Create a dataframe that capable of representing the design, in as complete a way as you can, in the <span class="citation"><a href="#ref-slameckaRetroactiveInhibitionConnected1960" role="doc-biblioref">Slamecka</a> (<a href="#ref-slameckaRetroactiveInhibitionConnected1960" role="doc-biblioref">1960</a>)</span> paper.</li>
</ol>
</div>
</div>
</div>
<div id="references" class="section level2 unnumbered">
<h2 class="hasAnchor">
<a href="#references" class="anchor"></a>References</h2>
<div id="refs" class="references csl-bib-body hanging-indent" line-spacing="2">
<div id="ref-slameckaRetroactiveInhibitionConnected1960" class="csl-entry">
Slamecka, N. J. (1960). Retroactive inhibition of connected discourse as a function of practice level. <em>Journal of Experimental Psychology</em>, <em>59</em>(2), 104–108. <a href="https://doi.org/b5z2nt">https://doi.org/b5z2nt</a>
</div>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p>Developed by <a href="https://crumplab.github.io">Matthew Crump</a>.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.5.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
